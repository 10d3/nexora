import type { ThemeColors } from "@/types/theme-types";

type ThemeValues = {
  [key: string]: string;
};

type ThemeConfig = {
  [color in ThemeColors]: {
    dark: ThemeValues;
    light: ThemeValues;
  };
};

export const themes: ThemeConfig = {
  default: {
    light: {
      background: "oklch(1 0 0)",
      foreground: "oklch(0.145 0 0)",
      card: "oklch(1 0 0)",
      "card-foreground": "oklch(0.145 0 0)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.145 0 0)",
      primary: "oklch(0.205 0 0)",
      "primary-foreground": "oklch(0.985 0 0)",
      secondary: "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      muted: "oklch(0.97 0 0)",
      "muted-foreground": "oklch(0.556 0 0)",
      accent: "oklch(0.97 0 0)",
      "accent-foreground": "oklch(0.205 0 0)",
      destructive: "oklch(0.577 0.245 27.325)",
      "destructive-foreground": "oklch(0.985 0 0)",
      border: "oklch(0.922 0 0)",
      input: "oklch(0.922 0 0)",
      ring: "oklch(0.708 0 0)",
      "chart-1": "41 22% 65%",
      "chart-2": "185 12% 60%",
      "chart-3": "227 7% 40%",
      "chart-4": "84 19% 83%",
      "chart-5": "70 19% 77%",
    },
    dark: {
      background: "oklch(0.145 0 0)",
      foreground: "oklch(0.985 0 0)",
      card: "oklch(0.205 0 0)",
      "card-foreground": "oklch(0.985 0 0)",
      popover: "oklch(0.205 0 0)",
      "popover-foreground": "oklch(0.985 0 0)",
      primary: "oklch(0.922 0 0)",
      "primary-foreground": "oklch(0.205 0 0)",
      secondary: "oklch(0.269 0 0)",
      "secondary-foreground": "oklch(0.985 0 0)",
      muted: "oklch(0.269 0 0)",
      "muted-foreground": "oklch(0.708 0 0)",
      accent: "oklch(0.269 0 0)",
      "accent-foreground": "oklch(0.985 0 0)",
      destructive: "oklch(0.704 0.191 22.216)",
      "destructive-foreground": "oklch(0.985 0 0)",
      border: "oklch(1 0 0 / 10%)",
      input: "oklch(1 0 0 / 15%)",
      ring: "oklch(0.556 0 0)",
      "chart-1": "264 24% 49%",
      "chart-2": "162 17% 70%",
      "chart-3": "70 19% 77%",
      "chart-4": "304 27% 63%",
      "chart-5": "16 25% 65%",
    },
  },
  palette: {
    light: {
      background: "oklch(1 0 0)",
      foreground: "oklch(0.145 0 0)",
      card: "oklch(1 0 0)",
      "card-foreground": "oklch(0.145 0 0)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.145 0 0)",
      primary: "oklch(0.205 0 0)",
      "primary-foreground": "oklch(0.985 0 0)",
      secondary: "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      muted: "oklch(0.97 0 0)",
      "muted-foreground": "oklch(0.556 0 0)",
      accent: "oklch(0.97 0 0)",
      "accent-foreground": "oklch(0.205 0 0)",
      destructive: "oklch(0.577 0.245 27.325)",
      "destructive-foreground": "oklch(0.985 0 0)",
      border: "oklch(0.922 0 0)",
      input: "oklch(0.922 0 0)",
      ring: "oklch(0.708 0 0)",
     "chart-1": "12 22% 65%",
      "chart-2": "173 12% 60%",
      "chart-3": "197 7% 40%",
      "chart-4": "43 19% 83%",
      "chart-5": "27 19% 77%",
    },
    dark: {
      background: "oklch(0.145 0 0)",
      foreground: "oklch(0.985 0 0)",
      card: "oklch(0.205 0 0)",
      "card-foreground": "oklch(0.985 0 0)",
      popover: "oklch(0.205 0 0)",
      "popover-foreground": "oklch(0.985 0 0)",
      primary: "oklch(0.922 0 0)",
      "primary-foreground": "oklch(0.205 0 0)",
      secondary: "oklch(0.269 0 0)",
      "secondary-foreground": "oklch(0.985 0 0)",
      muted: "oklch(0.269 0 0)",
      "muted-foreground": "oklch(0.708 0 0)",
      accent: "oklch(0.269 0 0)",
      "accent-foreground": "oklch(0.985 0 0)",
      destructive: "oklch(0.704 0.191 22.216)",
      "destructive-foreground": "oklch(0.985 0 0)",
      border: "oklch(1 0 0 / 10%)",
      input: "oklch(1 0 0 / 15%)",
      ring: "oklch(0.556 0 0)",
      "chart-1": "220 24% 49%",
      "chart-2": "160 17% 70%",
      "chart-3": "30 19% 77%",
      "chart-4": "280 27% 63%",
      "chart-5": "340 25% 65%",
    },
  },
  midnight: {
    light: {
      background: "oklch(0.06 0 240)",
      foreground: "oklch(0.9 0 60)",
      card: "oklch(0.1 0 240)",
      "card-foreground": "oklch(0.9 0 60)",
      popover: "oklch(0.15 0 240)",
      "popover-foreground": "oklch(0.85 0 60)",
      primary: "oklch(0.9 0 240)",
      "primary-foreground": "oklch(0 0 60)",
      secondary: "oklch(0.15 0 240)",
      "secondary-foreground": "oklch(0.85 0 60)",
      accent: "oklch(0.13 0 240)",
      "accent-foreground": "oklch(1 0 60)",
      destructive: "oklch(0.5 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      muted: "oklch(0.25 0 240)",
      "muted-foreground": "oklch(0.85 0 60)",
      border: "oklch(0.2 0 240)",
      input: "oklch(0.2 0 240)",
      ring: "oklch(0.9 0 240)",
      "chart-1": "359 2% 90%",
      "chart-2": "240 1% 74%",
      "chart-3": "240 1% 58%",
      "chart-4": "240 1% 42%",
      "chart-5": "240 2% 26%",
    },
    dark: {
      background: "oklch(0.06 0 240)",
      foreground: "oklch(0.9 0 60)",
      card: "oklch(0.1 0 240)",
      "card-foreground": "oklch(0.9 0 60)",
      popover: "oklch(0.15 0 240)",
      "popover-foreground": "oklch(0.85 0 60)",
      primary: "oklch(0.9 0 240)",
      "primary-foreground": "oklch(0 0 60)",
      secondary: "oklch(0.15 0 240)",
      "secondary-foreground": "oklch(0.85 0 60)",
      accent: "oklch(0.13 0 240)",
      "accent-foreground": "oklch(1 0 60)",
      destructive: "oklch(0.5 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      muted: "oklch(0.25 0 240)",
      "muted-foreground": "oklch(0.85 0 60)",
      border: "oklch(0.2 0 240)",
      input: "oklch(0.2 0 240)",
      ring: "oklch(0.9 0 240)",
      "chart-1": "359 2% 90%",
      "chart-2": "240 1% 74%",
      "chart-3": "240 1% 58%",
      "chart-4": "240 1% 42%",
      "chart-5": "240 2% 26%",
    },
  },
  daylight: {
    light: {
      background: "oklch(0.88 0.05 36)",
      foreground: "oklch(0.15 0.05 36)",
      card: "oklch(0.82 0.05 36)",
      "card-foreground": "oklch(0.2 0.05 36)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.039 0.05 240)",
      primary: "oklch(0.7 0.1 36)",
      "primary-foreground": "oklch(0.11 0.05 36)",
      secondary: "oklch(0.77 0.05 40)",
      "secondary-foreground": "oklch(0.25 0.05 36)",
      accent: "oklch(0.57 0.1 36)",
      "accent-foreground": "oklch(0.17 0.1 36)",
      destructive: "oklch(0.37 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      muted: "oklch(0.75 0.05 36)",
      "muted-foreground": "oklch(0.25 0.05 36)",
      border: "oklch(0.6 0.1 36)",
      input: "oklch(0.6 0.1 36)",
      ring: "oklch(0.3 0.1 36)",
      "chart-1": "25 5% 28%",
      "chart-2": "26 5% 34%",
      "chart-3": "28 5% 40%",
      "chart-4": "31 5% 48%",
      "chart-5": "35 5% 53%",
    },
    dark: {
      background: "oklch(0.88 0.05 36)",
      foreground: "oklch(0.15 0.05 36)",
      card: "oklch(0.82 0.05 36)",
      "card-foreground": "oklch(0.2 0.05 36)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.039 0.05 240)",
      primary: "oklch(0.7 0.1 36)",
      "primary-foreground": "oklch(0.11 0.05 36)",
      secondary: "oklch(0.77 0.05 40)",
      "secondary-foreground": "oklch(0.25 0.05 36)",
      accent: "oklch(0.57 0.1 36)",
      "accent-foreground": "oklch(0.17 0.1 36)",
      destructive: "oklch(0.37 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      muted: "oklch(0.75 0.05 36)",
      "muted-foreground": "oklch(0.25 0.05 36)",
      border: "oklch(0.6 0.1 36)",
      input: "oklch(0.6 0.1 36)",
      ring: "oklch(0.3 0.1 36)",
      "chart-1": "25 5% 28%",
      "chart-2": "26 5% 34%",
      "chart-3": "28 5% 40%",
      "chart-4": "31 5% 48%",
      "chart-5": "35 5% 53%",
    },
  },
  emerald: {
    light: {
      background: "oklch(1 0 0)",
      foreground: "oklch(0.145 0 0)",
      card: "oklch(1 0 0)",
      "card-foreground": "oklch(0.145 0 0)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.145 0 0)",
      primary: "oklch(0.28 0.2 142)",
      "primary-foreground": "oklch(0.98 0.01 356)",
      secondary: "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      muted: "oklch(0.97 0 0)",
      "muted-foreground": "oklch(0.45 0 0)",
      accent: "oklch(0.97 0 0)",
      "accent-foreground": "oklch(0.205 0 0)",
      destructive: "oklch(0.51 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      border: "oklch(0.9 0 0)",
      input: "oklch(0.9 0 0)",
      ring: "oklch(0.28 0.2 142)",
      "chart-1": "139 15% 20%",
      "chart-2": "140 15% 44%",
      "chart-3": "142 20% 28%",
      "chart-4": "137 10% 15%",
      "chart-5": "141 5% 9%",
    },
    dark: {
      background: "oklch(0.145 0 0)",
      foreground: "oklch(0.985 0 0)",
      card: "oklch(0.205 0 0)",
      "card-foreground": "oklch(0.985 0 0)",
      popover: "oklch(0.205 0 0)",
      "popover-foreground": "oklch(0.985 0 0)",
      primary: "oklch(0.28 0.2 142)",
      "primary-foreground": "oklch(0.98 0.01 356)",
      secondary: "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      muted: "oklch(0.159 0 0)",
      "muted-foreground": "oklch(0.649 0 0)",
      accent: "oklch(0.159 0 0)",
      "accent-foreground": "oklch(0.985 0 0)",
      destructive: "oklch(0.51 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      border: "oklch(0.159 0 0)",
      input: "oklch(0.159 0 0)",
      ring: "oklch(0.28 0.2 142)",
      "chart-1": "142 88% 28%",
      "chart-2": "139 15% 20%",
      "chart-3": "140 15% 24%",
      "chart-4": "137 10% 15%",
      "chart-5": "141 5% 9%",
    },
  },
  sapphire: {
    light: {
      background: "oklch(1 0 0)",
      foreground: "oklch(0.049 0.1 222.2)",
      card: "oklch(1 0 0)",
      "card-foreground": "oklch(0.049 0.1 222.2)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.049 0.1 222.2)",
      primary: "oklch(0.533 0.2 221.2)",
      "primary-foreground": "oklch(0.98 0.01 210)",
      secondary: "oklch(0.961 0.01 210)",
      "secondary-foreground": "oklch(0.112 0.05 222.2)",
      muted: "oklch(0.961 0.01 210)",
      "muted-foreground": "oklch(0.44 0.05 215.4)",
      accent: "oklch(0.961 0.01 210)",
      "accent-foreground": "oklch(0.112 0.05 222.2)",
      destructive: "oklch(0.51 0.2 0)",
      "destructive-foreground": "oklch(0.98 0.01 210)",
      border: "oklch(0.914 0.05 214.3)",
      input: "oklch(0.914 0.05 214.3)",
      ring: "oklch(0.533 0.2 221.2)",
     "chart-1": "221 20% 53%",
      "chart-2": "212 20% 68%",
      "chart-3": "216 20% 60%",
      "chart-4": "210 20% 78%",
      "chart-5": "212 20% 87%",
    },
    dark: {
      background: "oklch(0.145 0 0)",
      foreground: "oklch(0.985 0 0)",
      card: "oklch(0.205 0 0)",
      "card-foreground": "oklch(0.985 0 0)",
      popover: "oklch(0.205 0 0)",
      "popover-foreground": "oklch(0.985 0 0)",
      primary: "oklch(0.533 0.2 221.2)",
      "primary-foreground": "oklch(0.98 0.01 210)",
      secondary: "oklch(0.961 0.01 210)",
      "secondary-foreground": "oklch(0.112 0.05 222.2)",
      muted: "oklch(0.159 0 0)",
      "muted-foreground": "oklch(0.649 0 0)",
      accent: "oklch(0.159 0 0)",
      "accent-foreground": "oklch(0.985 0 0)",
      destructive: "oklch(0.51 0.2 0)",
      "destructive-foreground": "oklch(0.98 0.01 210)",
      border: "oklch(0.159 0 0)",
      input: "oklch(0.159 0 0)",
      ring: "oklch(0.533 0.2 221.2)",
      "chart-1": "221 20% 53%",
      "chart-2": "212 20% 68%",
      "chart-3": "216 20% 60%",
      "chart-4": "210 20% 78%",
      "chart-5": "212 20% 87%",
    },
  },
  ruby: {
    light: {
      background: "oklch(1 0 0)",
      foreground: "oklch(0.145 0 0)",
      card: "oklch(1 0 0)",
      "card-foreground": "oklch(0.145 0 0)",
      popover: "oklch(1 0 0)",
      "popover-foreground": "oklch(0.145 0 0)",
      primary: "oklch(0.498 0.2 346.8)",
      "primary-foreground": "oklch(0.99 0.2 355.7)",
      secondary: "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      muted: "oklch(0.97 0 0)",
      "muted-foreground": "oklch(0.45 0 0)",
      accent: "oklch(0.97 0 0)",
      "accent-foreground": "oklch(0.205 0 0)",
      destructive: "oklch(0.51 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      border: "oklch(0.9 0 0)",
      input: "oklch(0.9 0 0)",
      ring: "oklch(0.498 0.2 346.8)",
      "chart-1": "347 20% 50%",
      "chart-2": "352 20% 91%",
      "chart-3": "350 20% 72%",
      "chart-4": "351 20% 82%",
      "chart-5": "349 20% 62%",
    },
    dark: {
      background: "oklch(0.145 0 0)",
      foreground: "oklch(0.985 0 0)",
      card: "oklch(0.205 0 0)",
      "card-foreground": "oklch(0.985 0 0)",
      popover: "oklch(0.205 0 0)",
      "popover-foreground": "oklch(0.985 0 0)",
      primary: "oklch(0.498 0.2 346.8)",
      "primary-foreground": "oklch(0.99 0.2 355.7)",
      secondary: "oklch(0.97 0 0)",
      "secondary-foreground": "oklch(0.205 0 0)",
      muted: "oklch(0.159 0 0)",
      "muted-foreground": "oklch(0.649 0 0)",
      accent: "oklch(0.159 0 0)",
      "accent-foreground": "oklch(0.985 0 0)",
      destructive: "oklch(0.51 0.2 0)",
      "destructive-foreground": "oklch(0.98 0 0)",
      border: "oklch(0.159 0 0)",
      input: "oklch(0.159 0 0)",
      ring: "oklch(0.533 0.2 221.2)",
      "chart-1": "347 20% 50%",
      "chart-2": "349 20% 62%",
      "chart-3": "350 20% 72%",
      "chart-4": "351 20% 82%",
      "chart-5": "352 20% 91%",
    },
  },
};

export function setGlobalColorTheme(
  themeMode: "dark" | "light",
  color: ThemeColors
) {
  // Add error handling to prevent the undefined error
  if (!themes[color]) {
    console.error(
      `Theme color "${color}" not found, falling back to "default"`
    );
    color = "default"; // Fallback to a theme we know exists
  }

  if (!themes[color][themeMode]) {
    console.error(
      `Theme mode "${themeMode}" not found for color "${color}", falling back to "light"`
    );
    themeMode = "light"; // Fallback to light mode
  }

  const theme = themes[color][themeMode];

  // Apply theme colors to CSS variables
  for (const key in theme) {
    // Directly set OKLCH values from theme configuration
    document.documentElement.style.setProperty(`--${key}`, theme[key]);
  }

  // Set a data attribute on the document for debugging
  document.documentElement.setAttribute("data-theme-color", color);
  document.documentElement.setAttribute("data-theme-mode", themeMode);
}
